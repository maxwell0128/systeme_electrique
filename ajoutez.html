<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bouton d'enregistrement des informations de contact</title>
    <style>
        .btn-contact {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .btn-contact:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>Enregistrez mes informations de contact</h1>
    <p>Cliquez sur le bouton ci-dessous pour enregistrer facilement mes informations dans votre répertoire téléphonique.</p>
    <button class="btn-contact" id="btnContact">Enregistrer</button>

    <script>
        const btnContact = document.getElementById('btnContact');

        btnContact.addEventListener('click', () => {
            // Préparez les informations de contact
            const contactInfo = {
                name: 'Franck Michaël AKOÏ',
                company: 'System Electrique',
                email: 'systemelectrique225@mail.com',
                phones: [
                    '+225 07 68 242 541',
                    '+225 01 72 038 891'
                ],
                website: 'www.votresiteweb.com',
                linkedin: 'https://www.linkedin.com/in/votre-nom/',
                // Ajoutez d'autres champs si nécessaire
            };

            // Convertissez les informations de contact au format vCard
            const vCardString = generateVCard(contactInfo);

            // Déclenchez le téléchargement du fichier vCard
            triggerDownload(vCardString, 'Franck_Michaël_AKOÏ.vcf');
        });

        // Fonction pour générer la chaîne vCard
        function generateVCard(contactInfo) {
            let vCard = 'BEGIN:VCARD\n';
            vCard += 'VERSION:3.0\n';

            for (const key in contactInfo) {
                if (contactInfo.hasOwnProperty(key)) {
                    const value = contactInfo[key];

                    // Gérer les champs multiples (tels que les numéros de téléphone)
                    if (Array.isArray(value)) {
                        for (let i = 0; i < value.length; i++) {
                            vCard += `${key}:${value[i]}\n`;
                        }
                    } else {
                        vCard += `${key}:${value}\n`;
                    }
                }
            }

            vCard += 'END:VCARD\n';
            return vCard;
        }

        // Fonction pour déclencher le téléchargement du fichier vCard
        function triggerDownload(vCardString, filename) {
            const blob = new Blob([vCardString], { type: 'text/vcard' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
